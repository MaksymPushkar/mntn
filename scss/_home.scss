@use "_colors.scss" as *;
@use "_fonts.scss" as *;
@use "_mixins.scss" as *;

.page {
	& > * {
		position: relative;
	}
}

@keyframes icon-arrow-bottom {
	0% {
		translate: 0 0;
	}
	25% {
		translate: 0 25%;
	}
	75% {
		translate: 0 -25%;
	}
	100% {
		translate: 0 0;
	}
}

.hero {
	min-height: 100svh;

	/* .hero__body */
	&__body {
		position: fixed;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
		padding-top: max(var(--header-top-height), 25svh);
	}
	/* .hero__container */
	&__container {
		& > * {
			margin-bottom: min(4vmin, toRem(32));
		}
		max-width: toRem(980);
		@include adaptiveValue(max-width, 980, 500);
		position: relative;
		z-index: 2;
		@media (max-width: 63.9988rem) {
			padding-right: toRem(130);
			padding-left: toRem(70);
		}
		@media (max-width: 48em) {
			padding-right: toRem(25);
			padding-left: toRem(54);
		}
		&--anim {
			opacity: 0;
			visibility: hidden;
			transition: 1s ease opacity;
			&.animate {
				opacity: 1;
				visibility: visible;
			}
		}
		& > *:last-child {
			margin-bottom: 0;
		}
	}
	/* .hero__heading */
	&__heading {
		text-wrap: pretty;
		// max-width: toRem(555);
		& > * {
			margin-bottom: min(4vmin, toRem(32));
		}
		& > *:last-child {
			margin-bottom: 0;
		}
	}
	/* .hero__btn */
	&__btn {
		display: inline-flex;
		flex-direction: row-reverse;
		font-size: min(5vmin, toRem(18));
		gap: min(4.8vmin, toRem(16));
		align-items: center;
		transition: 0.3s ease color;
		/* .hero__btn--icon-arrow-bottom */
		&--icon-arrow-bottom::before {
			font-size: min(7vmin, toRem(24));
		}
		@media (any-hover: hover) and (any-pointer: fine) {
			&:hover {
				color: $colorAccent;
				/* .hero__btn--icon-arrow-bottom */
				&[class*="--icon-arrow-bottom"]::before {
					animation-name: icon-arrow-bottom;
					animation-duration: 1.5s;
					animation-iteration-count: infinite;
				}
			}
		}
	}
	/* .hero__imgs */
	&__imgs {
		pointer-events: none;
		position: absolute;
		width: 120%;
		height: 120%;
		top: -10%;
		left: -10%;
		z-index: 1;
		&--z-index-4 {
			z-index: 4;
		}
	}
}
.imgs-hero {
	&__item {
		position: absolute;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
	}
	&__clouds,
	&__mountains,
	&__human,
	&__gradient {
		position: absolute;
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
	}
	/* .imgs-hero__clouds */
	&__clouds {
		background:
			linear-gradient(330deg, rgba(11, 29, 38, 0) 30.06%, #0b1d26 108.93%),
			url("../img/hero/HG.avif") top / cover no-repeat;
		top: 0;
	}
	/* .imgs-hero__mountains */
	&__mountains {
		background: url("../img/hero/MG.avif") top / cover no-repeat;
		top: 40%;
		z-index: 2;
	}
	/* .imgs-hero__human */
	&__human {
		background: url("../img/hero/VG.avif") top / cover no-repeat;
		top: 60%;
		z-index: 4;
		@media (max-aspect-ratio: 3/2) {
			background-position: 25% top;
		}
	}
	/* .imgs-hero__human */
	&__gradient {
		background: linear-gradient(
			90deg,
			rgba(11, 29, 38, 0.4) 0%,
			rgba(11, 29, 38, 0) 20%,
			rgba(11, 29, 38, 0) 80%,
			rgba(11, 29, 38, 0.4) 100%
		);
		top: 0;
		z-index: 5;
	}
}

.content {
	position: relative;
	z-index: 4;
	// @include adaptiveValue(margin-top, 700, 100);
	padding-top: calc(clamp(12.5rem, 3.968rem + 42.66vw, 43.75rem) - clamp(1.875rem, -5.463rem + 36.69vw, 28.75rem));

	@include adaptiveValue(padding-bottom, 120, 15);
	// translate: 0 calc(clamp(1.875rem, -5.463rem + 36.69vw, 28.75rem) * -1);
	// margin-bottom: 0 calc(clamp(1.875rem, -5.463rem + 36.69vw, 28.75rem) * -1);
	overflow: clip;
	pointer-events: none;
	& > * {
		@include adaptiveValue(margin-bottom, 200, 40);
		position: relative;
		z-index: 4;
		pointer-events: auto;
	}
	& > *:last-child {
		margin-bottom: 0;
	}
	&__bg {
		position: absolute;
		top: clamp(12.5rem, 3.968rem + 42.66vw, 43.75rem);
		right: 0;
		bottom: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background-color: $colorBG;
		z-index: 3;
		&::before {
			content: "";
			pointer-events: none;
			position: absolute;
			top: 1px;
			left: 0;
			width: 100%;
			height: clamp(12.5rem, 3.968rem + 42.66vw, 43.75rem);
			transform: translate(0, -100%);
			background: linear-gradient(180deg, rgba(11, 29, 38, 0) 0%, $colorBG 61.38%);
		}
	}
	@media (max-width: 63.9988rem) {
		padding-top: calc(clamp(12.5rem, 3.968rem + 42.66vw, 43.75rem) * 0.7);
	}
}

.roadmap {
	&__container {
		counter-reset: item;
		padding-inline: toRem(165);
		& > * {
			@include adaptiveValue(margin-bottom, 200, 40);
		}
		& > *:last-child {
			margin-bottom: 0;
		}
		@media (max-width: 63.9988rem) {
			padding-right: toRem(130);
			padding-left: toRem(70);
		}
		@media (max-width: 48em) {
			padding-right: toRem(25);
			padding-left: toRem(54);
		}
	}
	/* .roadmap__item */
	&__item {
		counter-increment: item;
		scroll-margin-block-start: var(--header-top-height);
	}
}
.item-roadmap {
	display: flex;
	@include adaptiveValue(gap, 30, 12);
	justify-content: space-between;
	flex-direction: row-reverse;
	&--anim {
		opacity: 0;
		visibility: hidden;
		transition: 1.2s ease;
		translate: 10% 0;
		&:nth-child(even) {
			translate: -10% 0;
		}
		&.animate {
			opacity: 1;
			visibility: visible;
			translate: 0 0;
		}
	}
	&:nth-child(even) {
		flex-direction: row;
	}
	/* .item-roadmap__main */
	&__main {
		& > * {
			@include adaptiveValue(margin-bottom, 27, 12);
		}
		@include adaptiveValue(padding-top, 144, 38);
		@include adaptiveValue(padding-left, 150, 39);
		flex-basis: toRem(782);
		position: relative;
		&::before {
			content: counter(item, decimal-leading-zero);
			position: absolute;
			font-size: 240px;
			@include adaptiveValue(font-size, 240, 40);
			line-height: 1;
			opacity: 0.1;
			left: 0;
			@include adaptiveValue(top, 44, 0);
		}
		& > *:last-child {
			margin-bottom: 0;
		}
	}
	/* .item-roadmap__heading */
	&__heading {
		max-width: toRem(555);
		& > * {
			@include adaptiveValue(margin-bottom, 27, 12);
		}
		& > *:last-child {
			margin-bottom: 0;
		}
	}
	/* .item-roadmap__text */
	&__text {
	}
	/* .item-roadmap__link */
	&__link {
		display: inline-flex;
		gap: toRem(16);
		color: $colorAccent;
		flex-direction: row-reverse;
		align-items: center;
		transition: 0.3s ease color;
		line-height: 1.2;
		&::before {
			font-size: toRem(16);
			font-weight: normal;
			transition: 0.3s ease translate;
			font-weight: normal;
		}
		@media (any-hover: hover) and (any-pointer: fine) {
			&:hover {
				color: $colorWeiB;
				&::before {
					translate: 20% 0;
				}
			}
		}
	}
	/* .item-roadmap__img */
	&__img {
		position: relative;
		z-index: 1;
		flex-basis: toRem(566);
		overflow: hidden;
		aspect-ratio: 566 / 720;
		align-self: start;
		img {
			object-fit: cover;
			width: 100%;
			height: 100%;
			transition: 0.3s ease scale;
		}
		&--position-bottom {
			img {
				object-position: center bottom;
			}
		}
		@media (any-hover: hover) and (any-pointer: fine) {
			&:hover {
				img {
					scale: 1.02;
				}
			}
		}
	}
	@media (max-width: 87.4988em) {
		/* .item-roadmap__main */
		&__main {
			padding: 0;
			&::before {
				display: block;
				position: relative;
				top: 0;
				@include adaptiveValue(font-size, 120, 40);
			}
		}
		@media not (max-width: 35em) {
			display: block;
			/* .item-roadmap__img */
			&__img {
				float: right;
				margin: 0 0 toRem(4) toRem(20);
				width: 40%;
			}
			&:nth-child(even) {
				.item-roadmap__img {
					float: left;
					margin: 0 toRem(20) toRem(4) 0;
				}
			}
			/* .item-roadmap__heading */
			&__heading {
				max-width: none;
			}
		}
	}

	@media (max-width: 35em) {
		&,
		&:nth-child(even) {
			flex-direction: column-reverse;
		}
		flex-wrap: wrap;
		justify-content: center;
		& > * {
			flex-basis: auto;
		}
		&__heading {
			max-width: none;
		}
		/* .item-roadmap__img */
		&__img {
			width: 100%;
			max-height: toRem(500);
		}
	}
}
